<!DOCTYPE html>
<html>
  <head>
    <style>:root{--sans-font:-apple-system,BlinkMacSystemFont,"Avenir Next",Avenir,"Nimbus Sans L",Roboto,Noto,"Segoe UI",Arial,Helvetica,"Helvetica Neue",sans-serif;--mono-font:Consolas,Menlo,Monaco,"Andale Mono","Ubuntu Mono",monospace;--base-fontsize:1.15rem;--header-scale:1.25;--line-height:1.618;--bg:#fff;--accent-bg:#f5f7ff;--text:#212121;--text-light:#585858;--border:#d8dae1;--accent:#0d47a1;--accent-light:#90caf9;--code:#d81b60;--preformatted:#444;--marked:#ffdd33;--disabled:#efefef}@media (prefers-color-scheme:dark){:root{--bg:#212121;--accent-bg:#2b2b2b;--text:#dcdcdc;--text-light:#ababab;--border:#666;--accent:#ffb300;--accent-light:#ffecb3;--code:#f06292;--preformatted:#ccc;--disabled:#111}img,video{opacity:.6}}html{font-family:var(--sans-font)}body{color:var(--text);background:var(--bg);font-size:var(--base-fontsize);line-height:var(--line-height);display:flex;min-height:100vh;flex-direction:column;flex:1;margin:0 auto;max-width:45rem;padding:0 .5rem;overflow-x:hidden;word-break:break-word;overflow-wrap:break-word}header{background:var(--accent-bg);border-bottom:1px solid var(--border);text-align:center;padding:2rem .5rem;width:100vw;position:relative;box-sizing:border-box;left:50%;right:50%;margin-left:-50vw;margin-right:-50vw}header h1,header p{margin:0}main{padding-top:1.5rem}h1,h2,h3{line-height:1.1}nav{font-size:1rem;line-height:2;padding:1rem 0}nav a{margin:1rem 1rem 0 0;border:1px solid var(--border);border-radius:5px;color:var(--text)!important;display:inline-block;padding:.1rem 1rem;text-decoration:none;transition:.4s}nav a:hover{color:var(--accent)!important;border-color:var(--accent)}nav a.current:hover{text-decoration:none}footer{margin-top:4rem;padding:2rem 1rem 1.5rem 1rem;color:var(--text-light);font-size:.9rem;text-align:center;border-top:1px solid var(--border)}h1{font-size:calc(var(--base-fontsize) * var(--header-scale) * var(--header-scale) * var(--header-scale) * var(--header-scale));margin-top:calc(var(--line-height) * 1.5rem)}h2{font-size:calc(var(--base-fontsize) * var(--header-scale) * var(--header-scale) * var(--header-scale));margin-top:calc(var(--line-height) * 1.5rem)}h3{font-size:calc(var(--base-fontsize) * var(--header-scale) * var(--header-scale));margin-top:calc(var(--line-height) * 1.5rem)}h4{font-size:calc(var(--base-fontsize) * var(--header-scale));margin-top:calc(var(--line-height) * 1.5rem)}h5{font-size:var(--base-fontsize);margin-top:calc(var(--line-height) * 1.5rem)}h6{font-size:calc(var(--base-fontsize)/ var(--header-scale));margin-top:calc(var(--line-height) * 1.5rem)}a,a:visited{color:var(--accent)}a:hover{text-decoration:none}[role=button],a button,button,input[type=button],input[type=reset],input[type=submit]{border:none;border-radius:5px;background:var(--accent);font-size:1rem;color:var(--bg);padding:.7rem .9rem;margin:.5rem 0;transition:.4s}[role=button][aria-disabled=true],a button[disabled],button[disabled],input[type=button][disabled],input[type=checkbox][disabled],input[type=radio][disabled],input[type=reset][disabled],input[type=submit][disabled],select[disabled]{cursor:default;opacity:.5;cursor:not-allowed}input:disabled,select:disabled,textarea:disabled{cursor:not-allowed;background-color:var(--disabled)}input[type=range]{padding:0}abbr{cursor:help}[role=button]:focus,[role=button]:not([aria-disabled=true]):hover,button:enabled:hover,button:focus,input[type=button]:enabled:hover,input[type=button]:focus,input[type=checkbox]:enabled:hover,input[type=checkbox]:focus,input[type=radio]:enabled:hover,input[type=radio]:focus,input[type=reset]:enabled:hover,input[type=reset]:focus,input[type=submit]:enabled:hover,input[type=submit]:focus{opacity:.8;cursor:pointer}details{background:var(--accent-bg);border:1px solid var(--border);border-radius:5px;margin-bottom:1rem}summary{cursor:pointer;font-weight:700;padding:.6rem 1rem}details[open]{padding:.6rem 1rem .75rem 1rem}details[open] summary{margin-bottom:.5rem;padding:0}details[open]>:last-child{margin-bottom:0}table{border-collapse:collapse;width:100%;margin:1.5rem 0}td,th{border:1px solid var(--border);text-align:left;padding:.5rem}th{background:var(--accent-bg);font-weight:700}tr:nth-child(even){background:var(--accent-bg)}table caption{font-weight:700;margin-bottom:.5rem}ol,ul{padding-left:3rem}input,select,textarea{font-size:inherit;font-family:inherit;padding:.5rem;margin-bottom:.5rem;color:var(--text);background:var(--bg);border:1px solid var(--border);border-radius:5px;box-shadow:none;box-sizing:border-box;width:60%;-moz-appearance:none;-webkit-appearance:none;appearance:none}select{background-image:linear-gradient(45deg,transparent 49%,var(--text) 51%),linear-gradient(135deg,var(--text) 51%,transparent 49%);background-position:calc(100% - 20px),calc(100% - 15px);background-size:5px 5px,5px 5px;background-repeat:no-repeat}select[multiple]{background-image:none!important}input[type=checkbox],input[type=radio]{vertical-align:bottom;position:relative}input[type=radio]{border-radius:100%}input[type=checkbox]:checked,input[type=radio]:checked{background:var(--accent)}input[type=checkbox]:checked::after{content:" ";width:.1em;height:.25em;border-radius:0;position:absolute;top:.05em;left:.18em;background:0 0;border-right:solid var(--bg) .08em;border-bottom:solid var(--bg) .08em;font-size:1.8em;transform:rotate(45deg)}input[type=radio]:checked::after{content:" ";width:.25em;height:.25em;border-radius:100%;position:absolute;top:.125em;background:var(--bg);left:.125em;font-size:32px}textarea{width:80%}@media only screen and (max-width:720px){input,select,textarea{width:100%}}input[type=checkbox],input[type=radio]{width:auto}input[type=file]{border:0}fieldset{border:0;padding:0;margin:0}hr{color:var(--border);border-top:1px;margin:1rem auto}mark{padding:2px 5px;border-radius:4px;background:var(--marked)}main img,main video{max-width:100%;height:auto;border-radius:5px}figure{margin:0}figcaption{font-size:.9rem;color:var(--text-light);text-align:center;margin-bottom:1rem}blockquote{margin:2rem 0 2rem 2rem;padding:.4rem .8rem;border-left:.35rem solid var(--accent);opacity:.8;font-style:italic}cite{font-size:.9rem;color:var(--text-light);font-style:normal}code,kbd,pre,pre span,samp{font-size:1.075rem;font-family:var(--mono-font);color:var(--code)}kbd{color:var(--preformatted);border:1px solid var(--preformatted);border-bottom:3px solid var(--preformatted);border-radius:5px;padding:.1rem}pre{padding:1rem 1.4rem;max-width:100%;overflow:auto;overflow-x:auto;color:var(--preformatted);background:var(--accent-bg);border:1px solid var(--border);border-radius:5px}pre code{color:var(--preformatted);background:0 0;margin:0;padding:0}</style>
  </head>
  <body>
    
  </body>
  <script>
    const graph = {home: {content: `<p><img alt="" src="bar" /></p>
<h1>Annata '93 - Biagio Ruggiero</h1>
<p><img alt="It's me" src="img/me.jpg" title="me" /> <br>
Programmatore, matematico, appassionato lettore e talvolta scrittore:
a cui piacerebbe riuscire a dedicarsi per bene alla narrativa.</p>
<h2>Interessi</h2>
<ul>
<li>Programmazione, dal primo 'hello world' perso insieme al primo computer:<br>
<center><b>Mai smesso di studiare o programmare.</center></b></li>
<li>Matematica, ad asilo ed elementari mi consideravo davvero bravo. Poi crescendo:<br>
<center><b>Si scopre un mondo e gli interessi mutano, ma non del tutto.</b></center></li>
<li>Lettura, da relativamente poco, il liceo scientifico non mi ha convinto a consumare libri,
ho iniziato dalla triennale in matematica leggendo molto di matematica o programmazione.<br>
<center><b>La narrativa ottiene la mia attenzione dal 2017 in poi.</b></center></li>
<li>Scrittura, a chi non piace scrivere acquisendo un potente strumento imparando a leggere e scrivere?
Un matematico con la passione per la programmazione:<br>
<center><b>Si ritrova a scrivere o digitare spesso e gli piace farlo.</b></center></li>
<li>Scrittura creativa, decido di dedicarle del tempo, contestualmente alla laurea magistrale in matematica: <br>
<center><b> Non sto dicendo che le due cose siano correlate. </b></center></li>
</ul>`},bar: {content: `<p><a href="home">Home</a> <a href="links">Links</a> <a href="projects">Projects</a> <a href="game">Game</a></p>`},projects: {content: `<p><img alt="" src="bar" /></p>
<h1>Prima o Poi</h1>
<p>Ci sarà una sezione progetti sensata su questo sito, che includerà riferimenti a:</p>
<ul>
<li>Il modo in cui è stato generato questo sito.</li>
<li>Il linguaggio di programmazione che mi piace dire di aver inventato,
ma che ancora non ho deciso se rendere open source</li>
<li>Altri progetti bellissimi</li>
</ul>`},links: {content: `<p><img alt="" src="bar" /></p>
<h2>Social</h2>
<ul>
<li><a href="https://github.com/NessunoZero">github</a></li>
<li><a href="https://www.linkedin.com/in/biagioruggiero93/">linkedin</a></li>
</ul>
<h2>Contact</h2>
<ul>
<li><a href="mailto:biagioruggiero93@gmail.com">mail</a></li>
</ul>`},game: {content: `<p><img alt="" src="bar" /></p>
<h1>Easter Egg</h1>
<div class="game-board">
<div class="box initial-box">Turn:</div><div class="box normal opponent" id="00"></div> <div class="box normal opponent" id="01"></div> <div class="box normal opponent" id="02"></div> <div class="box normal opponent" id="03"></div> <div class="box normal opponent" id="04"></div> <div class="box normal opponent" id="05"></div> <div class="box normal opponent" id="06"></div> <div class="box normal opponent" id="07"></div> <div class="box normal opponent" id="08"></div>
<div class="box initial-box meW" id="turn"></div><div class="box normal opponent" id="10"></div> <div class="box gold opponentS" id="11"></div> <div class="box normal opponent" id="12"></div> <div class="box normal opponent" id="13"></div> <div class="box gold opponentS" id="14"></div> <div class="box normal opponent" id="15"></div> <div class="box normal opponent" id="16"></div> <div class="box gold opponentS" id="17"></div> <div class="box normal opponent" id="18"></div>
<div class="box initial-box"></div><div class="box normal opponent" id="20"></div> <div class="box normal opponent" id="21"></div> <div class="box normal opponent" id="22"></div> <div class="box normal" id="23"></div> <div class="box normal" id="24"></div> <div class="box normal" id="25"></div> <div class="box normal opponent" id="26"></div> <div class="box normal opponent" id="27"></div> <div class="box normal opponent" id="28"></div>
<div class="box initial-box">Move:</div><div class="box normal" id="30"></div> <div class="box normal" id="31"></div> <div class="box normal" id="32"></div> <div class="box normal" id="33"></div> <div class="box normal" id="34"></div> <div class="box normal" id="35"></div> <div class="box normal" id="36"></div> <div class="box normal" id="37"></div> <div class="box normal" id="38"></div>
<div class="box initial-box" id="mosse">4</div><div class="box normal" id="40"></div> <div class="box gold" id="41"></div> <div class="box normal" id="42"></div> <div class="box normal" id="43"></div> <div class="box gold" id="44"></div> <div class="box normal" id="45"></div> <div class="box normal" id="46"></div> <div class="box gold" id="47"></div> <div class="box normal" id="48"></div>
<div class="box initial-box"></div><div class="box normal" id="50"></div> <div class="box normal" id="51"></div> <div class="box normal" id="52"></div> <div class="box normal" id="53"></div> <div class="box normal" id="54"></div> <div class="box normal" id="55"></div> <div class="box normal" id="56"></div> <div class="box normal" id="57"></div> <div class="box normal" id="58"></div>
<div class="box initial-box">Fuel:</div><div class="box normal me" id="60"></div> <div class="box normal me" id="61"></div> <div class="box normal me" id="62"></div> <div class="box normal" id="63"></div> <div class="box normal" id="64"></div> <div class="box normal" id="65"></div> <div class="box normal me" id="66"></div> <div class="box normal me" id="67"></div> <div class="box normal me" id="68"></div>
<div class="box initial-box" id="rifornimenti">3</div><div class="box normal me" id="70"></div> <div class="box gold meS" id="71"></div> <div class="box normal me" id="72"></div> <div class="box normal me" id="73"></div> <div class="box gold meS" id="74"></div> <div class="box normal me" id="75"></div> <div class="box normal me" id="76"></div> <div class="box gold meS" id="77"></div> <div class="box normal me" id="78"></div>
<div class="box initial-box"></div><div class="box normal me" id="80"></div> <div class="box normal me" id="81"></div> <div class="box normal me" id="82"></div> <div class="box normal me" id="83"></div> <div class="box normal me" id="84"></div> <div class="box normal me" id="85"></div> <div class="box normal me" id="86"></div> <div class="box normal me" id="87"></div> <div class="box normal me" id="88"></div>
</div>
<style>.game-board{display:grid;grid-template-columns:min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh);grid-template-rows:min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh) min(10vw,10vh);justify-content:center}.box{border:min(0.3vw,0.3vh) solid black;display:flex;justify-content:center;align-items:center;font-size:min(3.5vw,3.5vh);color:white;cursor:pointer}.initial-box{color:black;cursor:none;font-size:min(3.5vw,3.5vh);text-align:center}.gold{background-color:red}.normal{background-color:green}.me{background:radial-gradient(ellipse at center,orange 47%,orange 47%,orange 47%,green 48%)}.opponent{background:radial-gradient(ellipse at center,gray 47%,gray 47%,gray 47%,green 48%)}.meS{background:radial-gradient(ellipse at center,orange 47%,orange 47%,orange 47%,red 48%)}.opponentS{background:radial-gradient(ellipse at center,gray 47%,gray 47%,gray 47%,red 48%)}.meW{background:radial-gradient(ellipse at center,orange 47%,orange 47%,orange 47%,white 48%)}.opponentW{background:radial-gradient(ellipse at center,gray 47%,gray 47%,gray 47%,white 48%)}.opacity{opacity:.6}</style>
<script>let nine=[0,1,2,3,4,5,6,7,8],map=[];nine.forEach(n=>{map.push(new Array),nine.forEach(e=>{str=""+n+e,map[n].push(document.getElementById(str))})});let conf={};function yourTurn(n,e,i=null){return i=null==i?conf.turn:"me"==i?"opponent":"me",map[n][e].classList.contains(i)||map[n][e].classList.contains(i+"S")}function isEmpty(n,e){return""==map[n][e].innerHTML}function nextTurn(){document.getElementById("turn").classList.remove(conf.turn+"W"),"me"==conf.turn?conf.turn="opponent":conf.turn="me",document.getElementById("turn").classList.add(conf.turn+"W"),document.getElementById("turn").innerHTML=conf.turnNumber%5;let n=0;conf.justVisited=[],nine.forEach(e=>nine.forEach(i=>e%3==1&&i%3==1&&yourTurn(e,i)?n++:null)),yourTurn(4,4)&&n++,conf.moves=1,conf.turnNumber%5==0?(conf.refuel=n,conf.turnNumber=0,0!=conf.refuel?possibleRefuel():avaibleMoves()):avaibleMoves(),"opponent"==conf.turn&&conf.turnNumber++,document.getElementById("mosse").innerHTML=conf.moves,document.getElementById("rifornimenti").innerHTML=conf.refuel}function clicked(n,e){conf.refuel>0?firstClickFuel(n,e):null==conf.clickedX?firstClickMove(n,e):secondClickMove(n,e)}function firstClickFuel(n,e){if(!conf.allPossibleList.includes(""+n+e))return;toggleOpacity();let i=conf.refuel;if(yourTurn(n,e)){if(map[n][e].innerHTML<""+conf.maxSize){let i=map[n][e].innerHTML.includes("K");map[n][e].innerHTML=""+(parseInt(map[n][e].innerHTML)+1),i&&(map[n][e].innerHTML+="K"),conf.refuel--,document.getElementById("rifornimenti").innerHTML=conf.refuel}}else if(!yourTurn(n,e,conf.turn)){map[n][e].innerHTML="1";let i=conf.turn;n%3==1&&e%3==1&&(i+="S"),map[n][e].classList.add(i),conf.refuel--,document.getElementById("rifornimenti").innerHTML=conf.refuel}i!=conf.refuel&&(conf.justVisited.push(""+n+e),0!=conf.refuel?possibleRefuel():avaibleMoves())}function firstClickMove(n,e){conf.allPossibleList.includes(""+n+e)&&yourTurn(n,e)&&!conf.justVisited.includes(""+n+e)&&(conf.clickedX=n,conf.clickedY=e,toggleOpacity(),possibleMovies(n,e))}function secondClickMove(n,e){let i=conf.clickedX,o=conf.clickedY;if(conf.clickedX=null,conf.clickedY=null,toggleOpacity(),conf.allPossibleList.includes(""+n+e)){let t=parseInt(map[i][o].innerHTML),s=map[i][o].innerHTML.includes("K"),c=map[i][o].innerHTML;if(map[i][o].innerHTML="",i%3==1&&o%3==1?(map[i][o].classList.remove(conf.turn+"S"),map[i][o].classList.add("gold")):(map[i][o].classList.remove(conf.turn),map[i][o].classList.add("normal")),yourTurn(n,e)){let c=map[n][e].innerHTML.includes("K")||s;map[n][e].innerHTML=""+(parseInt(map[n][e].innerHTML)+t),c&&(map[n][e].innerHTML+="K"),s&&moveKing(i,o,n,e)}if(yourTurn(n,e,conf.turn)){let i;i="me"==conf.turn?"opponent":"me",map[n][e].innerHTML.includes("K")&&removeKing(n,e,i),map[n][e].classList.remove(i),map[n][e].classList.remove(i+"S"),map[n][e].innerHTML=""}isEmpty(n,e)&&(map[n][e].innerHTML=c,n%3==1&&e%3==1?(map[n][e].classList.remove("gold"),map[n][e].classList.add(conf.turn+"S")):(map[n][e].classList.remove("normal"),map[n][e].classList.add(conf.turn)),s&&moveKing(i,o,n,e)),conf.justVisited.push(""+n+e),conf.moves>1?(conf.moves--,document.getElementById("mosse").innerHTML=conf.moves,avaibleMoves()):nextTurn()}else avaibleMoves()}function moveKing(n,e,i,o){conf.kingPosition[conf.turn]=conf.kingPosition[conf.turn].filter(function(i){return i!==""+n+e}),conf.kingPosition[conf.turn].includes(""+i+o)||conf.kingPosition[conf.turn].push(""+i+o)}function removeKing(n,e,i){conf.kingPosition[i]=conf.kingPosition[i].filter(function(i){return i!==""+n+e})}function inRange(n,e){return nine.includes(n)&&nine.includes(e)}function addPos(n,e,i,o=[]){let t={};t.x=e,t.y=i,o.includes(""+e+i)||(n.push(t),o.push(""+e+i))}function possibleDestination(n,e,i,o=2,t=!1){let s;if(!inRange(n,e))return!1;if(0!=o){if(1!=o)return(!yourTurn(n,e)||isEmpty(n,e)||parseInt(map[n][e].innerHTML)+conf.actualPiecies<=conf.maxSizeKing||!map[n][e].innerHTML.includes("K")&&!t&&parseInt(map[n][e].innerHTML)+conf.actualPiecies<=conf.maxSize)&&addPos(i,n,e),s=isEmpty(n,e);yourTurn(n,e,conf.turn)&&addPos(i,n,e)}else(isEmpty(n,e)||yourTurn(n,e))&&(isEmpty(n,e)?addPos(i,n,e):(parseInt(map[n][e].innerHTML)+conf.actualPiecies<=conf.maxSizeKing||!map[n][e].innerHTML.includes("K")&&!t&&parseInt(map[n][e].innerHTML)+conf.actualPiecies<=conf.maxSize)&&addPos(i,n,e))}function possibleRefuel(){let n,e,i=[],o=[];conf.kingPosition[conf.turn].forEach(t=>{n=t[0],e=t[1],possibleRefuelByKing(n,e,i,o)}),manageOpacity(i)}function possibleRefuelByKing(n,e,i,o){let t=3*parseInt(n/3),s=3*parseInt(e/3);for(let n=0;n<3;n++)for(let e=0;e<3;e++)possibleRefuelCell(t+n,s+e,i,o)}function possibleRefuelCell(n,e,i,o){(isEmpty(n,e)||yourTurn(n,e)&&(parseInt(map[n][e].innerHTML)<conf.maxSizeKing||!map[n][e].innerHTML.includes("K")&&parseInt(map[n][e].innerHTML)<conf.maxSize))&&addPos(i,n,e,o)}function avaibleMoves(){let n=[];nine.forEach(e=>nine.forEach(i=>{!conf.justVisited.includes(""+e+i)&&yourTurn(e,i)&&possibleMovies(e,i,!0)&&addPos(n,e,i)})),manageOpacity(n)}function possibleMovies(n,e,i=!1){let o,t=parseInt(map[n][e].innerHTML),s=map[n][e].innerHTML.includes("K");conf.actualPiecies=t;let c=[];if(o="me"==conf.turn?-1:1,s){if(1==t||3==t)for(let i=-1;i<2;i++)for(let o=-1;o<2;o++)0==i&&0==o||possibleDestination(n+i,e+o,c,2,s);if(2==t||3==t)for(let i=-1;i<2;i+=2)for(let o=-1;o<2;o+=2)possibleDestination(n+i,e+2*o,c,2,s),possibleDestination(n+2*i,e+o,c,2,s)}else{if(1==t)for(let i=-1;i<2;i++)for(let o=-1;o<2;o++)0==i&&0==o||possibleDestination(n+i,e+o,c,2,s);if(2==t||5==t||7==t)for(let i=-1;i<2;i+=2)for(let o=-1;o<2;o+=2)possibleDestination(n+i,e+2*o,c,2,s),possibleDestination(n+2*i,e+o,c,2,s);if(3==t||5==t||6==t||7==t)for(let i=-1;i<2;i+=2)for(let o=-1;o<2;o+=2){let t=1;for(;possibleDestination(n+t*i,e+t*o,c,2,s);)t++}if(4==t||6==t||7==t)for(let i=-1;i<2;i++)for(let o=-1;o<2;o++){if(0==i&&0==o||0!=i&&0!=o)continue;let t=1;for(;possibleDestination(n+t*i,e+t*o,c,2,s);)t++}}return i||manageOpacity(c),0!=c.length||(conf.clickedX=null,conf.clickedY=null,!1)}function manageOpacity(n){conf.allPossible=n,conf.allPossibleList=[],n.forEach(n=>conf.allPossibleList.push(""+n.x+n.y)),toggleOpacity()}function toggleOpacity(){conf.allPossible.forEach(n=>map[n.x][n.y].classList.toggle("opacity"))}conf.clickedX=null,conf.clickedY=null,conf.turn="opponent",conf.moves=1,conf.refuel=3,conf.meSum=24,conf.opponentSum=24,conf.justVisited=[],conf.turnNumber=0,conf.kingPosition={me:[],opponent:[]},conf.maxSize=7,conf.maxSizeKing=3,nine.forEach(n=>nine.forEach(e=>{map[n][e].addEventListener("click",i=>{clicked(n,e)}),n%3==1&&e%3==1?map[n][e].classList.add("gold"):map[n][e].classList.add("normal"),n<2?(map[n][e].innerHTML+="1",n%3==1&&e%3==1?(map[n][e].classList.add("opponentS"),map[n][e].innerHTML+="K",conf.kingPosition.opponent.push(""+n+e)):map[n][e].classList.add("opponent")):2==n&&(e<3||e>5)?(n%3==1&&e%3==1?map[n][e].classList.add("opponentS"):map[n][e].classList.add("opponent"),map[n][e].innerHTML+="1"):n>6?(map[n][e].innerHTML+="1",n%3==1&&e%3==1?(map[n][e].classList.add("meS"),map[n][e].innerHTML+="K",conf.kingPosition.me.push(""+n+e)):map[n][e].classList.add("me")):6==n&&(e<3||e>5)&&(n%3==1&&e%3==1?map[n][e].classList.add("meS"):map[n][e].classList.add("me"),map[n][e].innerHTML+="1")})),nextTurn();<§script>
<p><br><br><br> Inizialmente pensavo di non fornire nella barra dei link il riferimento a questa parte del sito, l'ho inserita a posteriori, ma per me resta un Easter Egg</p>`},};

    for(node in graph){
      graph[node].content = graph[node].content.replace(/<§script>/g,'<\/script>')
    }

    const loadnode = (nodename, container = document.body) => {
      if(container === document.body){
        window.location.href = window.location.href.replace(window.location.hash,"") + '#' + nodename;
        if(container.classList.contains('script')){
          window.location.reload();
        }
      }
      if(!(nodename in graph)){
        alert('We have a problem, seems like you have entered an invalid URL hash');
        loadnode('home')
        return;
      }
      container.innerHTML = graph[nodename].content
      let init = [...container.getElementsByTagName('script')];
      for(let i = 0; i < init.length; i++){
        document.body.classList.add('script')
        let init2 = document.createElement('script');
        init2.innerHTML = init[i].innerHTML;
        init[i].parentNode.replaceChild(init2, init[i]);
      }
      let links = [...container.getElementsByTagName('a')]
      for (let i=0;i < links.length; i++){
        let ref = links[i].getAttribute('href')
        if (ref in graph){
          let newLink = document.createElement('button');
          newLink.value = ref
          newLink.name = ref
          newLink.innerHTML = links[i].innerHTML
          newLink.onclick = (event) => loadnode(event.target.name)
          links[i].parentNode.replaceChild(newLink, links[i]);
        }
      }
      let imgs = [...container.getElementsByTagName('img')]
      for (let i=0;i < imgs.length; i++){
        let ref = imgs[i].getAttribute('src')
        if (ref in graph){
          let content = document.createElement('div');
          loadnode(ref,content)
          imgs[i].parentNode.replaceChild(content, imgs[i]);
        }
      }
      return;
    };
    if(!window.location.hash){
      window.location.href = window.location.href.replace(window.location.hash,"") + '#home';
    }else{
      loadnode(window.location.hash.substring(1))
    }
    window.onhashchange = () => loadnode(window.location.hash.substring(1))
  </script>
  
</html>
